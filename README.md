# ToKachiXML

[e-Gov法令検索](https://elaws.e-gov.go.jp/)からダウンロードしたXMLデータから、ハイパーリンクの設定をしたマークダウン・ファイルを作成するプログラムです。
[obsidian](https://obsidian.md/)を用いる場合は、[タグペイン](https://publish.obsidian.md/help-ja/%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3/%E3%82%BF%E3%82%B0%E3%83%9A%E3%82%A4%E3%83%B3)を使うと便利です。

税法を前提に、法・施行令・施行規則をセットで処理しますが、税法以外の法律（例えば、会社法）でも使えます。

ハイパーリンクの設定は、設定漏れのものや誤った設定のものもありますので、ご容赦ください。

実際に作成したファイルをアップロードしています。一部、別表などの表の表示が異なるもの（上段、下段などのタイトルあり）があります。

ダウンロード後に、解凍して下さい。

~~租税特別措置法と地方税法は、masterブランチの下のToKachiXMLにあります。~~
~~https://github.com/sue-tax/ToKachiXML/tree/master/ToKachiXML~~

租税特別措置法は、解凍後のファイル数が65,536を超えるので、解凍ソフトによっては全部を解凍できないことがあります。

## ファイル名

全て、拡張子は`md`です。

附則については、項しかない場合がありますが、便宜上、第０条としています。

### indexＸＸＸＸ法

目次用のファイルです。

各条文に、ハイパーリンク設定されています。

`[TOC]`は、[typora](https://typora.io/)用です。見出しにジャンプします。obsidianでは機能しません。

obsidianは、見出しごとの折り畳み（見出しの左側の▽のようなものをクリック）を使うと、便利です。

### ＸＸＸＸ法＿＿＿＿＿第Ｘ条第Ｘ項
その項の本文です。```＿```は５つ連続していれば、本則です。

項が１つしかない条については、便宜上、第１項としています。

### ＸＸＸＸ法＿＿＿＿＿第Ｘ条第Ｘ項第Ｘ号
その号及び号以下のイロハや（１）なども含む本文です。```＿```は５つ連続していれば、本則です。

### ＸＸＸＸ法＿＿＿＿附則令和Ｙ年Ｍ月Ｄ日第Ｙ条第Ｚ項
附則のその項の本文です。```＿```は４つ連続しています。

附則には条がなく、項だけのものがありますが、便宜上、第０項としています。

### ＸＸＸＸ法＿＿＿＿＿第Ｘ条_
最後に半角ハイフンが付いていれば、その条全体の本文です。ハイパーリンクの設定はありません。

### ＸＸＸＸ法＿＿＿＿＿第Ｘ条第Ｘ項_
最後に```_```が付いていれば、その項全体の本文です。ハイパーリンクの設定はありません。

### ＸＸＸＸ法施行＿令＿第Ｘ条第Ｘ項
その項の本文です。```令```の前に```＿```があります。```令```の後ろに```＿```があれば、本則です。

### ＸＸＸＸ法施行規則＿第Ｘ条第Ｘ項
その項の本文です。```規則```の後ろに```＿```があれば、本則です。

### ＸＸＸＸ法＿＿＿＿別表Ｘ
別表です。```＿```は４つ連続しています。

※```＿```はファイルを文字コード（アルファベット）順に並べることを意識しています。

## ファイル内容

### 条の見出し

### 条文の番号（法令名、条、項、号など）

### 本文

### ジャンプ
`前条←`、`→次項`、`第２項`などに、ハイパーリンクの設定をしています。

obsidianでは、ctrlキーを押しながら、マウスカーソルをあわせると、ハイパーリンク先のファイル内容がバルーン表示されます。ctrlキーを押しながら、マウスクリックするとハイバーリンク先のファイルが開きます。

前条、次条は、目などの範囲内です。
例えば、所得税法第４６条は第１目、第４７条は第２目なので、第４６条には`次条`が表示されず、第４７条には`前条`が表示されません。

`第Ｘ項（全）`は項以下の号も表示されますがハイパーリンクの設定はありません。
`第Ｘ項  　`は項の本文のみの表示で、号は表示されません。ハイパーリンクの設定があります。


~~### タグ表示~~
~~obsidianのタグペイン機能用です。~~

~~```_第９章雑則```のように先頭には```_```が付いています。~~

### ハイパーリンク
```[第三十二条](消費税法＿＿＿＿＿第３２条第１項)```のように設定しています。

obsidianでは、ctrlキーを押しながら、マウスカーソルをあわせると、ハイパーリンク先のファイル内容がバルーン表示されます。ctrlキーを押しながら、マウスクリックするとハイバーリンク先のファイルが開きます。

### カラー化
カッコ`（）`で囲われた部分の色を変えています。

カッコが連続（ネスト）すると、さらに別の色に変えています。

背景は黒より白の方が見やすいと思います（obisidianでは、「設定」で「外観」の「ベーステーマ」を「ライト」にします）。

一部、未対応のものがあります。

## 開発~~予定~~済み

~~現状では、obsidianの機能を活用しても、ちょっと使いにくい。~~

~~目次や、「前条」「次条」などによる移動ができるようにしたい。~~

~~ただし、一部（所得税、法人税、相続税、消費税、民法）しか、アップロードしていません。~~
